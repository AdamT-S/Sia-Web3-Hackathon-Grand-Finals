doctype html
html(lang="en")
  head
    meta(charset="UTF-8")
    meta(name="viewport", content="width=device-width, initial-scale=1.0")
    title Navigation Bar
    link(rel="stylesheet", href="index.css")
    script(type="module", src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js")
    
  body    
    .top-bar
      .dropdown
        ion-icon(name="person-circle-outline", class="user-icon", onclick="toggleDropdown()")
        .dropdown-content(id="dropdownContent")
          a(href="#", onclick="changePage('settings')") Account Settings
          a(href="/login") Log Out
        ion-icon(name="wallet-outline", class="wallet-icon", onclick="changePage('wallet')")

    .bottom-bar
        ion-icon(name="home-outline", class="home-icon", onclick="changePage('home')")
        ion-icon(name="cash-outline", class="redeem-icon", onclick="changePage('redeem')")

    #content
      //- Content for pages will be loaded here

    script.
      let webLanguage = "English";

      function getLanguage() {
          return webLanguage;
      }

      function setLanguage(newLanguage) {
          webLanguage = newLanguage;
      }

      function toggleDropdown() {
          var dropdownContent = document.getElementById("dropdownContent");
          dropdownContent.classList.toggle("show");
      }

      window.onload = fetchPage("home","English");

      window.onclick = function(event) {
          if (!event.target.matches('.user-icon')) {
              var dropdowns = document.getElementsByClassName("dropdown-content");
              var i;
              for (i = 0; i < dropdowns.length; i++) {
                  var openDropdown = dropdowns[i];
                  if (openDropdown.classList.contains('show')) {
                      openDropdown.classList.remove('show');
                  }
              }
          }
      }

      function changePage(pageName, currentLanguage) {
          const buttons = document.querySelectorAll('.icon');
          buttons.forEach(button => button.classList.remove("active"));
          
          event.target.classList.add("active");
          fetchPage(pageName,getLanguage());
      }

      function fetchPage(pageName,currentLanguage) {
        let content = '';
        if (pageName === 'home' && currentLanguage == "English") {
            content = `
                <div class="home-content">
                    <p class ="Spacetext">Spacetext</p>
                    <p class="hometextone">Offers</p>
                    <div class="popularplaces"></div>
                    <p class="hometexttwo">What's New</p>
                    <div class="recentplaces"></div>
                    <p class="hometextthree">Popular</p>
                    <div class="nearplaces"></div>
                </div>`;
        } else if (pageName === 'home' && currentLanguage == "French") {
            content = `
                <div class="home-content">
                    <p class ="Spacetext">Spacetext</p>
                    <p class="hometextone">Offres</p>
                    <div class="popularplaces"></div>
                    <p class="hometexttwo">Quoi de neuf</p>
                    <div class="recentplaces"></div>
                    <p class="hometextthree">Populaire</p>
                    <div class="nearplaces"></div>
                </div>`;
        } else if (pageName === 'redeem' && currentLanguage == 'English') {
            content = `
                <div class="redeem-content">
                    <div class="image-container">
                        <p class="voucher5description">Bronze: 5 Points</p>
                        <img src="5 Point Voucher Rounded.png" alt="5 Enviropoints" class="voucher5" onclick="alert('Voucher Purchased! (make function to display this message and deduct points from balance)')">                       
                        <p class="voucher15description">Silver: 15 Points</p>
                        <img src="15 Point Voucher Rounded.png" alt="15 Enviropoints" class="voucher15" onclick="alert('Voucher Purchased! (make function to display this message and deduct points from balance)')">
                        <p class="voucher25description">Gold: 25 Points</p>
                        <img src="25 Point Voucher Rounded.png" alt="25 Enviropoints" class="voucher25" onclick="alert('Voucher Purchased! (make function to display this message and deduct points from balance)')">
                    </div>
                </div>`;
        } else if (pageName === 'redeem' && currentLanguage == 'French') {
            content = `
                <div class="redeem-content">
                    <div class="image-container">
                        <p class="voucher5description">Bronze: 5 Points</p>
                        <img src="5 Point Voucher Rounded.png" alt="5 Enviropoints" class="voucher5" onclick="alert('Bon acheté! (make function to display this message and deduct points from balance)')">                       
                        <p class="voucher15description">Argent: 15 Points</p>
                        <img src="15 Point Voucher Rounded.png" alt="15 Enviropoints" class="voucher15" onclick="alert('Bon acheté! (make function to display this message and deduct points from balance)')">
                        <p class="voucher25description">Doré: 25 Points</p>
                        <img src="25 Point Voucher Rounded.png" alt="25 Enviropoints" class="voucher25" onclick="alert('Bon acheté! (make function to display this message and deduct points from balance)')">
                    </div>
                </div>`;
        } else if (pageName === 'wallet' && currentLanguage == 'English') {
            content = `
                <div class="wallet-content">
                    <img src="Wallet Icon.png" alt="wallet-image" class="wallet-image">
                    <div class="balance-display">
                        <div class="balance-text">Your Balance: 100</div>
                    </div>
                    <img src="github-qr-code.png" alt="QR Code" class="qr-code">
                    <button alt="REDEEM" class="redeembutton" onclick="changePage('redeem')">Redeem</button>
                </div>`;
        } else if (pageName === 'wallet' && currentLanguage == 'French') {
            content = `
                <div class="wallet-content">
                    <img src="Wallet Icon.png" alt="wallet-image" class="wallet-image">
                    <div class="balance-display">
                        <div class="balance-text">Votre solde: 100</div>
                    </div>
                    <img src="github-qr-code.png" alt="QR Code" class="qr-code">
                    <button alt="REDEEM" class="redeembutton" onclick="changePage('redeem')">Racheter</button>
                </div>`;
        } else if (pageName == 'settings' && currentLanguage == 'English') {
            content = `
                <div class="settings-content">
                    <p class="Title">Settings</p>
                    <p class="Language">Language: </p>
                    <div align="center">
                        <select class="Languages" onchange="setLanguage(this.value); changePage('settings', this.value)">
                            <option value="English">English</option>
                            <option value="French">French</option>
                        </select>
                    </div>
                </div>`;
        } else if (pageName == 'settings' && currentLanguage == 'French') {
            content = `
                <div class="settings-content">
                    <p class="Title">Paramètres</p>
                    <p class="Language">Langue: </p>
                    <div align="center">
                        <select class="Languages" onchange="setLanguage(this.value); changePage('settings', this.value)">
                            <option value="French">French</option>
                            <option value="English">English</option>
                        </select>
                    </div>
                </div>`;
        }
          // Add other cases for redeem, myvouchers, wallet, settings, etc.
          document.getElementById('content').innerHTML = content;
      }